<?php

// instructions:
// place these lines near top of  public static function addons
//     in file: /wordpress/wp-content/plugins/memberpress/app/controllers/MeprUdateCtrl.php
//
// //bcc
// return MemberPress_null_get_addons();
// //bcc

function MemberPress_null_get_addons()
{

    $files1 = scandir(WP_PLUGIN_DIR);
    $addon_names =  preg_grep("/^memberpress-/", $files1);
    // print_r($addon_names);

    foreach ($addon_names as $item) {
        $main_file = WP_PLUGIN_DIR . "/" . $item . '/main.php';
        // print $main_file;
        $plugin_data = get_plugin_data($main_file);
        // print "<pre>";
        // print_r($plugin_data);
        // print "</pre>";
        $inner_array = (object)array(
            'extra_info' => (object)array(
            'product_name' => $plugin_data[Name],
            'description' => $plugin_data[Description],
            'list_title' => $plugin_data[Name],
            'directory' => $item,
            'main_file' => $item . '/main.php',
            ),
        );
        $addons["$item"] = $inner_array;
    }

    return $addons;
}
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
#----------------------------------------------------
